<%= render PageTitleComponent.new(title: "プロフィール編集", title_class: "spec--profile-edit-title") %>
<div class="a--page-body py-6">
  <div class="spec--profile-edit-container l--container is--sm">
    <%= form_with model: @admin, url: admin_profile_path, local: true, class: "space-y-6" do |f| %>
      <%= render AlertComponent.new(type: :danger, messages: @admin.errors.full_messages, spec_class: "spec--error-messages") if @admin.errors.any? %>

      <div>
        <header class="a--card-header">
          <h2 class="a--heading is--md spec--account-info-title">アカウント情報</h2>
        </header>
        <div class="a--card">
          <div class="l--form-items">
            <%= render FormFieldComponent.new(
              form: f,
              field: :email,
              label: "メールアドレス",
              type: "email",
              required: true,
              help_text: "ログイン時に使用するメールアドレスです。",
              spec_class: "spec--email-input",
              autocomplete: "email"
            ) %>
            <%= render FormFieldComponent.new(
              form: f,
              field: :user_id,
              label: "ユーザーID",
              required: true,
              help_text: "記事の著者として表示されるIDです。",
              spec_class: "spec--user-id-input",
              autocomplete: "username"
            ) %>
          </div>
        </div>
      </div>

      <div>
        <header class="a--card-header">
          <h2 class="a--heading is--md spec--theme-section-title">テーマカラー</h2>
        </header>
        <div class="a--card">
          <div class="l--form-items">
            <div>
              <label class="a--label">カラーテーマを選択</label>
              <p class="a--help-text">管理画面のテーマカラーを選択してください。</p>
              <div class="mt-4 grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5">
                <% Admin::THEME_COLORS.each do |color| %>
                  <label class="l--theme-color-option js--theme-color-option spec--theme-color-option" data-color="<%= color %>">
                    <%= f.radio_button :theme_color, color, class: "sr-only js--theme-color-input spec--theme-color-input" %>
                    <span class="flex flex-1 flex-col">
                      <span class="block text-sm font-medium text-gray-900 capitalize"><%= color %></span>
                      <span class="mt-2 flex h-8 w-full rounded border-2" style="background-color: var(--color-<%= color %>-500); border-color: var(--color-<%= color %>-700);"></span>
                    </span>
                    <span class="material-symbols-outlined l--theme-color-option__check spec--theme-color-check" aria-hidden="true">
                      check_circle
                    </span>
                  </label>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div>
        <header class="a--card-header">
          <h2 class="a--heading is--md spec--password-section-title">パスワード</h2>
        </header>
        <div class="a--card">
          <div class="flex justify-between items-center mb-4">
            <%= link_to "パスワードを変更", edit_admin_password_path, class: "a--button is--md is--secondary spec--password-change-link" %>
          </div>
          <p class="text-sm text-sky-500">セキュリティのため、パスワードの変更は別ページで行います。</p>
        </div>
      </div>

      <%= render FormActionsComponent.new(
        form: f,
        primary_label: "更新",
        primary_class: "spec--update-button",
        cancel_path: admin_articles_path
      ) %>
    <% end %>

  </div>
</div>
